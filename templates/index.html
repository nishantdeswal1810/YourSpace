<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Selector</title>
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
         *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
         }
         html,body{
            font-family: Poppins;
         }
         .container{
            width:100vw;
            height:100vh;
            overflow:hidden;
            position:fixed;
         }
         .header{
            width:100%;
            height:70px;
            background-color: #151D31;
         }
         .section{
            width:100%;
            height:100vh;
            /* background-color: red; */
            background-image: url('{{ url_for('static', filename='Background.png') }}');
            /* background-image:url('Background.png'); */
            background-repeat: no-repeat;
            background-size: 100% 100%;
         }
         .wrapper{
            width:90%;
            height:600px;
            margin:0 auto;
            padding-left: 50px;
            padding-top: 30px;
            display:flex;
            column-gap:40px;
            /* justify-content: space-between; */
         }
         .desc{
            width:50%;
            margin:20px;
            display:flex;
            flex-direction:column;
            justify-items:start;
         }
         .head{
            width:90%;
            font-weight: 500;
            font-size: 56px;
            line-height:69.6px;
            color:#070707;
            margin-top:40px;
            text-wrap: wrap;
         }
         .brief{
            font-size:16px;
            line-height: 25.6px;
            font-weight:500;
            color:#040613;
            margin-top:15px;
            margin-left:5px;
            width:70%;
            text-wrap: wrap;
         }
         .box{
            display:flex;
            width:460px;
            margin-top:25px;
         }
         .subbox{
            width:50%;
            height:90px;
            border-bottom-left-radius: 16px;
            background-color:#151d31;
            display:flex;
            flex-direction: row;
            position:relative;
         }
         .ellp{
            width:60px;
            height:60px;
            border-radius:60px;
            position:relative;
            top:15px;
            left:40px;
         }
         .i1{
            background-image: url('{{ url_for('static', filename='1.png') }}');
            /* background-image:url('1.png'); */
            background-repeat: no-repeat;
            background-size: 100% 100%;
         }
         .i2{
            background-image: url('{{ url_for('static', filename='2.png') }}');
            /* background-image:url('2.png'); */
            background-repeat: no-repeat;
            background-size: 100% 100%;
            position:absolute;
            left:85px;
         }
         .i3{
            background-image: url('{{ url_for('static', filename='3.png') }}');
            /* background-image: url('3.png'); */
            background-repeat: no-repeat;
            background-size: 100% 100%;
            position:absolute;
            left:130px;
         }
         .subbox1{
            width:50%;
            height:90px;
            border-top-right-radius: 16px;
            border-bottom-right-radius: 16px;
            background-color:#151d31;
            margin-left:-4px;
            padding-left:4px;
         }
         .brief1{
            font-weight:500;
            font-size:20px;
            line-height: 28px;
            color:white;
            text-align: left;
            margin-top:17px;
         }
         .space{
            color:#ffd278;
         }
         .brief2{
            color:#b8b8c1;
            font-weight:600;
         }
         .form1 {
    background: #fff;
    padding: 20px 35px;
    margin-right:40px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    width:50%;
    max-width:580px;
}

h1 {
    font-size: 24px;
    margin-bottom: 10px;
    text-wrap:nowrap;
}

p {
    font-size: 14px;
    color: #666;
    margin-bottom: 0px;
}
.form-section{
    margin-bottom:5px;
}
label {
    font-weight: 600;
    display: block;
    line-height: 25.6px;
    font-size:16px;
    color:#040613;
}

input[type="text"],
input[type="email"],
select,input {
    width: 100%;
    padding: 10px;
    margin-bottom: 8px;
    border: 1px solid #e9e9e9;
    border-radius: 5px;
    box-sizing: border-box;
    height:42.38px;
}
input::placeholder{
    font-size:14px;
    font-weight:500;
    color:#807e7e;
    padding-left: 8px;
}

button {
    width: 100%;
    padding: 10px;
    background-color: #151d31;
    color: #fff;
    border: 2px solid #151d31;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    line-height: 25.6px;
    font-weight:500;
    transition:all 100ms ease;
}

button:hover {
    background-color: #212e4b;
}
button:active{
    transform:scale(0.98);
}
.form-head{
    font-size:26px;
    line-height: 33.6px;
    font-weight: 500;
    text-align:center;
}
.form-desc{
    text-align: center;
    width:80%;
    margin:0 auto;
    color:#92929c;
    font-size:13px;
    margin-bottom:15px;
}
option{
    font-size:14px;
    line-height:22.4px;
    font-weight:500;
    color:#151d31;
    font-family: Poppins;
}
select{
    font-size:14px;
    line-height:22.4px;
    font-weight:500;
    color:#151d31;
}
.opt{
    display:none;
}
.log{
    width:180px;
    height:45px;
    position:relative;
    top:10px;
    left:40px;
}
div.cont{
    display:flex;
    column-gap: 5px;
    margin-left: -6px;
}

@media (max-width: 2000px) {
    .header{
                display:flex;
                flex-direction: column;
                justify-items: center;
                align-items: center;
                padding-top:10px;
            }
            .log{
                position:static;
            }
            .head {
                font-size: 3rem;
            }
            .brief {
                font-size: 1rem;
            }
         }

         @media (max-width: 1200px) {
            .form1 h1{
                font-size:22px;
            }
            .head {
                font-size: 2.5rem;
            }
            .brief {
                font-size: 0.9rem;
            }
         }

         @media (max-width: 1024px) {
            .wrapper{
                position:relative;
                left:-20px;
            }
            .head {
                font-size: 50px;
                margin:0 auto;
                margin-top:30px;
            }
            .brief {
                font-size: 18px;
                text-align: center;
                margin:0 auto;
                margin-top:10px;
            }
            .wrapper {
                width: 90%;
                padding-top: 0px;
            }
            .wrapper {
                flex-direction: column;
                align-items: center;
                height: auto;
            }
            .form1 {
                width: 100%;
                margin:0 auto;
                margin-top:50px;
            }
         }

         @media (max-width: 1024px) {
            .container{
                overflow-y:auto;
            }
            .desc {
                width: 100%;
                margin-left: 0;
                text-align: center;
            }
            .head {
                font-size: 50px;
                line-height: 50px;
            }
            .brief {
                font-size: 18px;
                text-align:center;
                margin-top:20px;
            }
            .box {
                width: 100%;
                max-width:430px;
                justify-content: center;
                align-items:center;
                margin:0 auto;
                padding-top:20px;
            }
            .brief2{
                text-align:left;
            }
            .form1 {
                width: 90%;
                margin:0 auto;
                margin-top: 30px;
            }
         }

         @media (max-width: 576px) {
            .wrapper{
                width:100%;
            }
            .box{
                display:none;
            }
            .form1 h1{
                text-wrap:wrap;
            }
            .head {
                font-size: 32px;
                line-height: 40px;
            }
            .brief {
                font-size: 14px;
                line-height: 16px;
            }
            .form1 {
                padding: 15px 15px;
                margin-top:10px;
                width:100%;
            }
         }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function submitForm() {
            document.getElementById("property-form").submit();
        }

        function fetchCities() {
            const propertyType = $('#property_type').val();
            if (propertyType) {
                $.post('/get_cities', {property_type: propertyType}, function(data) {
                    const cityList = $('#city-list');
                    cityList.empty();
                    data.forEach(function(city) {
                        cityList.append(`<option value="${city}">${city}</option>`);
                    });
                });
            }
        }

        function fetchMicromarkets() {
            const propertyType = $('#property_type').val();
            const city = $('#city').val();
            if (propertyType && city) {
                $('.loading').show();
                $.post('/get_micromarkets', {property_type: propertyType, city: city}, function(data) {
                    $('.loading').hide();
                    const micromarketList = $('#micromarket-list');
                    micromarketList.empty();
                    data.forEach(function(micromarket) {
                        micromarketList.append(`<option value="${micromarket}">${micromarket}</option>`);
                    });
                });
            }
        }

        function fetchPrices() {
            const propertyType = $('#property_type').val();
            const city = $('#city').val();
            const micromarket = $('#micromarket').val();
            if (propertyType && city && micromarket) {
                $('.loading').show();
                $.post('/get_prices', {property_type: propertyType, city: city, micromarket: micromarket}, function(data) {
                    $('.loading').hide();
                    const priceList = $('#budget-list');
                    priceList.empty();
                    data.forEach(function(price) {
                        priceList.append(`<option value="${price}">â‚¹${price}</option>`);
                    });
                });
            }
        }

        function clearForm() {
            document.getElementById("property-form").reset();
            $('#city').val('');
            $('#micromarket').val('');
            $('#city-list').empty();
            $('#micromarket-list').empty();
            $('#budget-list').empty();
        }

        $(document).ready(function() {
            $('#property_type').on('change', fetchCities);
            $('#city').on('input', fetchMicromarkets);
            $('#micromarket').on('input', fetchPrices);
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="{{ url_for('static', filename='navlogo.png') }}" class="log"/>
            <!-- <img src="navlogo.png" class="log"/> -->
        </div>
        <div class="section">
            <div class="wrapper">
                <div class="desc">
                    <h1 class="head">Find Your Rental Space in 5min!</h1>
                    <!-- <h1 class="brief">Are you ready to start the search for your dream space? Look no further than <br/><img src="{{ url_for('static', filename='logo.png') }}" style="width:170px;height:40px;object-fit: fit;"/>.</h1> -->
                    <h1 class="brief">Are you ready to start the search for your dream space? Look no further than <br/><img src="logo.png" style="width:170px;height:40px;object-fit: fit;margin-top:10px;"/>.</h1>
                    <div class="box">
                        <div class="subbox">
                            <div class="ellp i1"></div>
                            <div class="ellp i2"></div>
                            <div class="ellp i3"></div>
                        </div>
                        <div class="subbox1">
                            <p class="brief1"><span class="space">2000+</span> Spaces</p>
                            <p class="brief2">Get details instantly.</p>
                        </div>
                    </div>
                </div>
                <div class="form1">
                    <form id="property-form" method="POST">
                        <h1 class="form-head">Rental Space Enquiry Form</h1>
                        <p class="form-desc">Please provide the following information to help us better understand your space needs.</p>
                        <div class="form-section">
                            <label for="info" style="margin-bottom: 4px;">Your Information</label>
                            <label for="name"></label>
                            <input type="text" id="name" name="name" placeholder="Your Name"required>
                            <div class="cont">
                                <label for="mobile"></label>
                                <input type="tel" id="mobile" name="mobile" placeholder="Your Contact" required>
                            
                                <label for="email"></label>
                                <input type="email" id="email" name="email" placeholder="Your E-mail" required>
                            </div>
                        </div>
                        <div class="form-section">
                            <label for="pref" style="margin-bottom: 4px;">Your Preference</label>
                            
                            <label for="property_type"></label>
                            <select id="property_type" name="property_type" placeholder="What type of Space are you interested in?" required>
                                <option value="default" class="opt">What type of Space are you interested in?</option>
                                <option value="coworking">Coworking</option>
                                <option value="retail">Retail</option>
                                <!-- Add more options as needed -->
                            </select>
                            
                            <label for="city"></label>
                            <input type="text" id="city" name="city" list="city-list" placeholder="What is your preffered Location?" required>
                            <datalist id="city-list"></datalist>

                            <label for="micromarket"></label>
                            <input type="text" id="micromarket" name="micromarket" list="micromarket-list" placeholder="What is your preffered Area?" required>
                            <datalist id="micromarket-list"></datalist>

                            <label for="budget"></label>
                            <input type="number" id="budget" name="budget" list="budget-list" placeholder="What is your Budget?" required>
                            <datalist id="budget-list"></datalist>
                            
                        </div>
                        <button type="submit">Get Enquiry</button>
                    </form>
                    <!-- <div class="loading">Loading...</div> -->
                </div>
            </div>
        </div>
    </div>
</body>
</html>
